<!-- Calling the Query, to populate the table we are going to create -->
{{#context}}
{
  "hsp": {
    "collection": "hsp-end-entities",
    "query": {},
    "hints": {"$orderby":{"CompanyName": 1}}
  }
}
{{/context}}

<html>
<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <title>WBA OpenRoaming Home Service Provider Smumary Information</title>
</head>
<!-- Table Fonts and border settings -->
<style>
#hsp {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 70%;
}

#hsp td, #hsp th {
  border: 1px solid #ddd;
  padding: 8px;
}

#hsp tr:nth-child(even){background-color: #f2f2f2;}

#hsp tr:hover {background-color: #ddd;}

#hsp th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #4CAF50;
  color: white;
}


</style>

<body onload='main()'>
  <img src="https://wballiance.com/wp-content/uploads/2019/05/wbalogo2019.png" alt="WBA Logo">
  </p>
  <h2 style="font-family:Arial;">WBA OpenRoaming HSP Summary Information</h2>
  <h3 style="font-family:Arial;">Automated entry by WBA Agent</h3>
  <h3 style="font-family:Arial;">(If you are a WBA Agent, please request an API Key from WBA PMO to enable POST updates to this database)</h5>
  <p>

  <table id="hsp">
    <tr>
      <th>Company Name</th>
      <th>WBAID</th>
      <th>Realms</th>


    </tr>
    {{#each hsp}}
      <tr>
        <td>{{this.[CompanyName]}}</td>
        <td>{{this.[WBAID]}}</td>
        <td>
        {{#each this.[RealmList]}}
          <div>{{this.[realm]}}</div>
        {{/each}}
        </td>
        
      </tr>
    {{/each}}
  </table>
  
  <hr>
  <!-- Example JSON -->
  <h3 style="font-family:Arial;">Example JSON used to POST the information for exampleIDP</h5>
  <code>
      {
  "CompanyName": "ExampleIDP",
  "CompanyAddress": "101 Main Street, Mega City, CA, USA ",
  "CompanyPhone": "+1 555 123 1234",
  "ContactName": "Peter Hoffman",
  "ContactPhone": "+1 555 123 5678",  
  "ContactEmail": "phoffman@exampleidp.com",
  "WBAMember": "No",
  "WBAAgent": "Accuris Networks",
  "WBAID": "exampleidp.Accuris:IE",
  "DateWBAToSSigned": "30-04-2020",
  "CUIDFormat": "Opaque",
  "IdentityProviderType": [
    {
      "id-category": "ServiceProvider"
    },
    {
      "id-category": "CloudProvider"
    },
    {
      "id-category": "Enterprise"
    },
    {
      "id-category": "Government"
    },
    {
      "id-category": "Automotive"
    },
    {
      "id-category": "Hospitality"
    }
  ],
  "CredentialVerification": [
    {
      "verification": "None"
    },
    {
      "verification": "Email"
    },
    {
      "verification": "SMS"
    },
    {
      "verification": "GovernmentID"
    },
    {
      "verification": "GovernmentIssued"
    },
    {
      "verification": "Manufacturer"
    }
  ],
  "RealmList": [
    {
      "realm": "exampleidp.com"
    },
    {
      "realm": "exampleidp.net"
    }
  ]
}
  </code>

</body>
</html>
